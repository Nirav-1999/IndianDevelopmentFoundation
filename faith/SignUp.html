<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css" >

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <title>Document</title>
</head>
<body class="noice">
  <div class="container">
    <div class="row">
      <div class="col-lg-2"></div>
      <div class="col-lg-8">
        <div class="row mid">
          <div class="col-lg-6 f_half" style="background-image: url(image/text3.jpg)"></div>
            <div class="col-lg-6 s_half"><h1 style="text-align: center">Sign Up</h1>
              <p></p>
              <form id="postreq">
                <div class="form-group">
                  <label for="exampleInputEmail1">Username</label>
                  <input type="text" class="form-control" id="Username" aria-describedby="emailHelp" placeholder="Enter Username">
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Email-Id</label>
                  <input type="email" class="form-control" id="Email" aria-describedby="emailHelp" placeholder="abc@xyz.com">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Password</label>
                  <input type="password" class="form-control" id="Password" placeholder="Password">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Age:</label>
                  <input type="text" class="form-control" id="Age" placeholder="Age">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Caste:</label>
                  <input type="text" class="form-control" id="Caste" placeholder="Caste">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">State</label>
                  <input type="text" class="form-control" id="State" placeholder="State">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Income</label>
                  <input type="text" class="form-control" id="Income" placeholder="Income">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">University_Name</label>
                  <input type="text" class="form-control" id="University_Name" placeholder="University_Name">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Gender:</label>
                  <input type="text" class="form-control" id="Gender" placeholder="Gender">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Birthdate:</label>
                  <input type="text" class="form-control" id="Birthdate" placeholder="YYYY-MM-DD">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">RESUME:</label>
                  <input type="file" class="form-control" id="Resume" placeholder="">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
          </div>
        </div>
        <div class="col-lg-2"></div>
      </div>
    </div>

    <script>
      document.getElementById('postreq').addEventListener('submit', postmethod);

      function postmethod(event){
        event.preventDefault();

        username = document.getElementById('Username').value;
        email = document.getElementById('Email').value;
        password = document.getElementById('Password').value;
        age = document.getElementById('Age').value;
        caste = document.getElementById('Caste').value;
        state = document.getElementById('State').value;
        income = document.getElementById('Income').value;
        resume = document.getElementById('Resume').files[0];
        console.log(resume)
        university_name = document.getElementById('University_Name').value;
        gender = document.getElementById('Gender').value;
        birthdate = document.getElementById('Birthdate').value;

        var data = {
          age: age,
          state: state,
          caste: caste,
          income: income,
          resume: resume.name,
          university_name: university_name,
          gender: gender,
          birthdate: birthdate,
          user: {
            username: username,
            email: email,
            password: password
          }

        }

        fetch('http://127.0.0.1:8000/api/students/' , {
          method: 'POST',
          headers: {
            'Accept': 'application/json, text/plain, */*',
            'Content-type':'application/json'
          },
          body: JSON.stringify(data)
        })
        .then((res) => res.json())
        .then((response) => console.log(response))
        }

    </script>
  </body>
</html>
